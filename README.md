# Mdk2VqTex

This is a utility that reads a texture from a .tex file and produces a PNG output and vice-versa.

This texture format is used in MDK2 game, a game of my childhood :3

To compile you can use CMake or get this utility from [releases page](https://github.com/fgRuslan/Mdk2VqTex/releases).

The code was generated by gemini 2.5 pro, I apologize for that, but this was possible after quite a long time of my exploration of the game's code in IDA :3
The issue was that IDA generated some REALLY obscured code, so don't think of me as a v*becoder (sorry for swearing), I just haven't got so many nerves to
analyze the decompression code all by myself without using any tools :3

The compressor's logic was also made by LLM because I am a silly goober who doesn't want to deal with k-means clustering, vector quantization and other scary words,
but at least I've done a huge analysis of the texture format earlier as well as other things related to the game's logic, so yeah, maybe I'm not so silly after all... :P

# Usage
```
Mdk2VqTex <input> <output> [do_flip] [decompress_all_mips]
```

input is either a png file that has to be converted into tex file or a tex file that has to be converted into png.

output is obviously the output file of this utility.

do_flip is a flag that specifies whether the texture must be flipped before saving. This is needed because of how OpenGL treats texture coordinates in the game.
decompress_all_mips - when is set to true, makes the decompressor produce all the mipmaps from the texture file. I don't know why this could be needed, but just in case

bleh bleh bleh I'm a silly silly kitty hehe :P :P :P :P